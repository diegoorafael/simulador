<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matemática do Carro | Consultoria e Estratégia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { background-color: #050505; color: #ffffff; font-family: 'Plus Jakarta Sans', sans-serif; scroll-behavior: smooth; }
        .gradient-text { background: linear-gradient(90deg, #00ff88, #00bdff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .nav-blur { background: rgba(5, 5, 5, 0.8); backdrop-filter: blur(15px); border-bottom: 1px solid rgba(255,255,255,0.05); }
        .glass-card { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 24px; transition: 0.3s; }
        .input-clean { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: #fff; padding: 14px; border-radius: 12px; width: 100%; outline: none; }
        .input-clean:focus { border-color: #00ff88; box-shadow: 0 0 20px rgba(0, 255, 136, 0.15); }
        .btn-primary { background: linear-gradient(135deg, #00ff88 0%, #00bdff 100%); color: #000; font-weight: 700; transition: 0.3s; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0, 255, 136, 0.3); }
        .whatsapp-btn { position: fixed; bottom: 30px; right: 30px; background: #25d366; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; z-index: 100; box-shadow: 0 10px 30px rgba(37, 211, 102, 0.3); }
    </style>
</head>
<body>

    <a href="https://wa.me/55XXXXXXXXXXX" class="whatsapp-btn" target="_blank">
        <svg viewBox="0 0 24 24" width="32" height="32" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L0 24l6.335-1.662c1.72.937 3.659 1.432 5.631 1.433h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
    </a>

    <nav class="nav-blur fixed top-0 w-full z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <span class="text-xl font-extrabold tracking-tighter">MATEMÁTICA<span class="text-green-500">DO</span>CARRO</span>
            <div class="hidden md:flex gap-8 text-sm font-medium text-gray-400">
                <a href="#" class="hover:text-white transition">Home</a>
                <a href="#simulador" class="hover:text-white transition">Simulador</a>
                <a href="#metodo" class="hover:text-white transition">O Método</a>
            </div>
            <a href="#simulador" class="btn-primary px-5 py-2 rounded-full text-xs uppercase">Simular Agora</a>
        </div>
    </nav>

    <section class="pt-40 pb-20 px-6 text-center">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-5xl md:text-7xl font-extrabold mb-6 leading-tight">Pare de perder dinheiro no <span class="gradient-text">financiamento.</span></h1>
            <p class="text-gray-400 text-lg mb-10 max-w-2xl mx-auto">Use a inteligência financeira de um mecânico especialista para descobrir se o seu próximo carro deve ser próprio ou por assinatura.</p>
            <div class="flex flex-col md:flex-row justify-center gap-4">
                <a href="#simulador" class="btn-primary px-8 py-4 rounded-2xl text-lg">Acessar Simulador Grátis</a>
                <a href="https://wa.me/55XXXXXXXXXXX" class="bg-white/10 hover:bg-white/20 px-8 py-4 rounded-2xl text-lg font-bold transition">Falar com Consultor</a>
            </div>
        </div>
    </section>

    <section id="metodo" class="py-20 px-6 max-w-7xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="glass-card p-8">
                <div class="text-green-500 mb-4 text-3xl font-bold">01</div>
                <h3 class="text-xl font-bold mb-2">Visão de Mecânico</h3>
                <p class="text-gray-400 text-sm">Eu sei o custo real de cada peça e manutenção que as lojas não te contam.</p>
            </div>
            <div class="glass-card p-8">
                <div class="text-blue-500 mb-4 text-3xl font-bold">02</div>
                <h3 class="text-xl font-bold mb-2">Matemática Pura</h3>
                <p class="text-gray-400 text-sm">Cálculos precisos de depreciação, inflação e custo de oportunidade.</p>
            </div>
            <div class="glass-card p-8">
                <div class="text-purple-500 mb-4 text-3xl font-bold">03</div>
                <h3 class="text-xl font-bold mb-2">Liberdade de Escolha</h3>
                <p class="text-gray-400 text-sm">Você decide o melhor caminho para o seu bolso, sem pressão de vendedor.</p>
            </div>
        </div>
    </section>

    <section id="simulador" class="py-20 px-6 max-w-7xl mx-auto">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold mb-2 uppercase tracking-tighter">O Simulador Definitivo</h2>
            <p class="text-gray-500">Configure os valores abaixo e veja o veredito em tempo real.</p>
        </div>

        <div class="glass-card p-6 md:p-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
                <div>
                    <label class="text-[10px] uppercase font-bold text-gray-500 block mb-2">Valor do Carro</label>
                    <input type="text" id="vCarroDisp" class="input-clean" value="R$ 100.000,00" oninput="mask(this, 'vCarro')">
                    <input type="hidden" id="vCarro" value="100000">
                </div>
                <div>
                    <label class="text-[10px] uppercase font-bold text-gray-500 block mb-2">Entrada</label>
                    <input type="text" id="vEntradaDisp" class="input-clean" value="R$ 40.000,00" oninput="mask(this, 'vEntrada')">
                    <input type="hidden" id="vEntrada" value="40000">
                </div>
                <div>
                    <label class="text-[10px] uppercase font-bold text-gray-500 block mb-2">Selic Anual (%)</label>
                    <input type="number" id="tSelicAnual" class="input-clean" value="12.75" oninput="calcular()">
                </div>
                <div>
                    <label class="text-[10px] uppercase font-bold text-gray-500 block mb-2">Mensalidade Assinatura</label>
                    <input type="text" id="vAssinaturaDisp" class="input-clean" value="R$ 2.400,00" oninput="mask(this, 'vAssinatura')">
                    <input type="hidden" id="vAssinatura" value="2400">
                </div>
                <input type="hidden" id="vPrazo" value="48">
                <input type="hidden" id="pDepreciacaoAnual" value="12.0">
                <input type="hidden" id="pCustosAnuais" value="10.0">
                <input type="hidden" id="tInflacao" value="4.5">
                <input type="hidden" id="tJuros" value="1.60">
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="space-y-6">
                    <div id="resCardA" class="glass-card p-6 border-l-4 border-red-500">
                        <p class="text-xs text-gray-500 uppercase font-bold">Patrimônio Carro</p>
                        <p id="resFinalFinanc" class="text-3xl font-extrabold">R$ 0,00</p>
                    </div>
                    <div id="resCardB" class="glass-card p-6 border-l-4 border-green-500">
                        <p class="text-xs text-gray-500 uppercase font-bold">Patrimônio Investido</p>
                        <p id="resFinalAssin" class="text-3xl font-extrabold text-green-400">R$ 0,00</p>
                    </div>
                    <div id="painelVeredito" class="p-6 rounded-2xl bg-white/5 border border-white/10 text-center">
                        <p id="textoVeredito" class="text-sm font-medium text-gray-300"></p>
                    </div>
                </div>
                <div class="h-80">
                    <canvas id="meuGrafico"></canvas>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-20 text-center text-gray-600 border-t border-white/5">
        <p class="text-sm">Matemática do Carro - Criado para quem valoriza cada centavo.</p>
    </footer>

    <script>
        // ... (Mesmo código JS de cálculo que já validamos)
        let chart;
        const fmt = (v) => v.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

        function mask(i, id) {
            let v = i.value.replace(/\D/g, "");
            v = (v / 100).toFixed(2);
            let p = v.split(".");
            p[0] = p[0].replace(/\B(?=(\d{3})+(?!\d))/g, ".");
            i.value = "R$ " + p[0] + "," + p[1];
            document.getElementById(id).value = v;
            calcular();
        }

        function calcular() {
            const vCarro = parseFloat(document.getElementById('vCarro').value) || 0;
            const vEntrada = parseFloat(document.getElementById('vEntrada').value) || 0;
            const vAssinatura = parseFloat(document.getElementById('vAssinatura').value) || 0;
            const tSelicAnual = parseFloat(document.getElementById('tSelicAnual').value) || 0;
            
            // Constantes do método (podem ser habilitadas como inputs se quiser)
            const vPrazo = 48;
            const tJuros = 0.016; 
            const pDepAnual = 0.12;
            const pCustos = 0.10;
            const tInf = 0.045;

            const tSelicLiquidaAnual = tSelicAnual * 0.85; 
            const tSelicMensal = (Math.pow(1 + (tSelicLiquidaAnual/100), 1/12) - 1);
            const tInfMensal = (Math.pow(1 + tInf, 1/12) - 1);
            const depMensal = 1 - Math.pow(1 - pDepAnual, 1/12);

            const custosMes = (vCarro * pCustos) / 12;
            const vFin = vCarro - vEntrada;
            const pmt = vFin > 0 ? (vFin * tJuros) / (1 - Math.pow(1 + tJuros, -vPrazo)) : 0;
            const aporte = (pmt + custosMes) - vAssinatura;

            render(vCarro, vEntrada, aporte, vPrazo, tSelicMensal, pmt, tJuros, vFin, tInfMensal, depMensal);
        }

        function render(vC, vE, ap, meses, selic, pmt, jF, vF, inf, dep) {
            let sD = vF, pFinanc = [], pAssin = [], sInvest = vE;
            for(let m=0; m<=meses; m++) {
                let vCarroHoje = vC * Math.pow((1 - dep + inf), m);
                if (m > 0) {
                    sD -= (pmt - (sD * jF));
                    sInvest = (sInvest + ap) * (1 + selic);
                }
                pFinanc.push(Math.max(0, vCarroHoje - Math.max(0, sD)));
                pAssin.push(sInvest);
            }
            
            const fF = pFinanc[meses], fA = pAssin[meses];
            document.getElementById('resFinalFinanc').innerText = fmt(fF);
            document.getElementById('resFinalAssin').innerText = fmt(fA);
            
            const texto = document.getElementById('textoVeredito');
            const dif = Math.abs(fA - fF);

            if (fA > fF) {
                texto.innerHTML = `Veredito: <b>ASSINATURA</b> é a melhor escolha. Seu patrimônio final será <span class="text-green-400 font-bold">${fmt(dif)}</span> maior.`;
            } else {
                texto.innerHTML = `Veredito: <b>CARRO PRÓPRIO</b> compensa mais neste cenário por uma margem de <b>${fmt(dif)}</b>.`;
            }

            if (chart) chart.destroy();
            chart = new Chart(document.getElementById('meuGrafico'), {
                type: 'line',
                data: {
                    labels: Array.from({length: meses + 1}, (_, i) => i),
                    datasets: [
                        { label: 'Carro', data: pFinanc, borderColor: '#ef4444', borderWidth: 2, pointRadius: 0 },
                        { label: 'Banco', data: pAssin, borderColor: '#00ff88', borderWidth: 3, pointRadius: 0 }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { display: false }, x: { grid: { display: false }, ticks: { color: '#444' } } } }
            });
        }
        window.onload = calcular;
    </script>
</body>
</html>
