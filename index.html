<div class="glass-card p-8 mb-10 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6">
    <div class="col-span-1">
        <label class="label-clean">Valor do Carro</label>
        <input type="text" id="vCarroDisplay" class="input-clean" value="R$ 100.000,00" oninput="formatarMoedaInput(this, 'vCarro')">
        <input type="hidden" id="vCarro" value="100000">
    </div>
    <div class="col-span-1">
        <label class="label-clean">Entrada</label>
        <input type="text" id="vEntradaDisplay" class="input-cyber input-clean" value="R$ 40.000,00" oninput="formatarMoedaInput(this, 'vEntrada')">
        <input type="hidden" id="vEntrada" value="40000">
    </div>
    <div class="col-span-1">
        <label class="label-clean">Prazo (Meses)</label>
        <input type="number" id="vPrazo" class="input-clean" value="48">
    </div>
    <div class="col-span-1">
        <label class="label-clean">Custos Posse (% AA)</label>
        <input type="number" id="pCustosAnuais" class="input-clean" value="8.8" step="0.1">
    </div>
    <div class="col-span-1">
        <label class="label-clean">IPCA Inflação (% AA)</label>
        <input type="number" id="tInflacao" class="input-clean" value="4.50" step="0.01">
    </div>
    <div class="col-span-1">
        <label class="label-clean">Selic Atual (% AA)</label>
        <input type="number" id="tSelicAnual" class="input-clean !text-cyan-400 font-bold" value="15.00" step="0.01">
    </div>
</div>

<script>
    // Função para formatar o valor digitado como R$ 0.000,00 em tempo real
    function formatarMoedaInput(input, hiddenId) {
        let valor = input.value.replace(/\D/g, "");
        valor = (valor / 100).toFixed(2) + "";
        valor = valor.replace(".", ",");
        valor = valor.replace(/(\d)(\d{3})(\d{3})/, "$1.$2.$3");
        valor = valor.replace(/(\d)(\d{3})/, "$1.$2");
        
        input.value = "R$ " + valor;
        
        // Atualiza o valor numérico escondido para o cálculo
        document.getElementById(hiddenId).value = valor.replace(/\./g, "").replace(",", ".");
        calcular(); // Chama o cálculo automaticamente
    }

    // No seu script de calcular, certifique-se de pegar os valores numéricos:
    function calcular() {
        const vCarro = parseFloat(document.getElementById('vCarro').value) || 0;
        const vEntrada = parseFloat(document.getElementById('vEntrada').value) || 0;
        // ... restante do código de cálculo igual ao anterior
    }
</script>
